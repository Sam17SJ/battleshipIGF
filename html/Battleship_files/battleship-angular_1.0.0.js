var app;!function(e){function t(e){u(e).config(e)}function r(e){u(e).run(e)}function n(e){u(e).controller(e.$componentName,e)}function i(e){u(e).service(e.$componentName,e)}function s(e){u(e).provider(e.$componentName,e)}function o(e){u(e).factory(e.$componentName,e)}function a(e){u(e).directive(e.$componentName,h(e,arguments))}var c=angular.module("app",["ui.router","ngResource","toastr"],function(){}),l={};e.Config=t,e.Run=r,e.Controller=n,e.Service=i,e.Provider=s,e.Factory=o,e.Directive=a;var u=function(e){return e.$module?(l[e.$module]||(l[e.$module]=angular.module("app."+e.$module,["ui.router"])),l[e.$module]):c},h=function(e,t){var r=[];return r.push.apply(r,e.$inject),r.push(e),r}}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e,t,r,n,i){e.$on("$stateChangeStart",function(t,r,i){e.toState=r,e.toStateParams=i,n.isAuthorized(r)||(t.preventDefault(),n.isUnathorized())})}return t.$inject=["$rootScope","$state","$stateParams","authService","userService"],t=__decorate([e.Run],t)})()}(t=e.bootstrap||(e.bootstrap={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(t,r){t.state(e.admin.identifier,{url:"/admin",parent:"home",data:{roles:["admin"]},views:{"content@":{templateUrl:e.admin.identifier+"/templates/index.html",controller:e.admin.AdminController}}}).state(e.login.identifier,{url:"/login",data:{roles:[]},views:{"content@":{templateUrl:e.login.identifier+"/templates/index.html",controller:e.login.LoginController}}}).state(e.register.identifier,{url:"/register",data:{roles:[]},views:{"content@":{templateUrl:e.register.identifier+"/templates/index.html",controller:e.register.RegisterController}}}).state(e.game.identifier,{url:"/game",parent:"home",data:{roles:["user","admin"]},views:{"content@":{templateUrl:e.game.identifier+"/templates/index.html",controller:e.game.GameBoardController,controllerAs:"gameBoardCtrl"}}}).state(e.home.identifier,{url:"/home",data:{roles:["guest","user","admin"]},views:{"content@":{templateUrl:e.home.identifier+"/templates/index.html",controller:e.home.HomeController}}}),r.otherwise("/home")}return t.$inject=["$stateProvider","$urlRouterProvider"],t=__decorate([e.Config],t)})()}(t=e.appRouter||(e.appRouter={}))}(app||(app={})),angular.module("app").run(["$templateCache",function(e){e.put("admin/templates/index.html",'<div class="admin" ng-controller="AdminController as adminCtrl">\r\n\r\n    <div class="row">\r\n        <div class="large-6 columns">\r\n    <div class="usersList">\r\n        <users-list newdata="{{adminCtrl.data}}"></users-list>\r\n    </div>\r\n    </div>\r\n        <div class="large-6 columns">\r\n    <form name="create" ng-submit="adminCtrl.submit(data)">\r\n        <div class="row">\r\n            <div class="medium-6 columns"><label for="username">Username:</label></div>\r\n            <div class="medium-6 columns"><input ng-model="data.username" id="username" required minlength="3" placeholder="username"/></div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="medium-6 columns"><label for="username">Password:</label></div>\r\n            <div class="medium-6 columns"><input ng-model="data.password" id="password" required minlength="3" type="password" placeholder="password"/></div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="medium-6 columns"><label for="username">Rol:</label></div>\r\n            <div class="medium-6 columns"><select name="roll" ng-model="data.role"><option value="user" selected>User</option><option value="admin">Admin</option></select>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="medium-3 columns"><button class="round" type="submit">Create</button></div>\r\n        </div>\r\n    </form>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("game/templates/index.html",'<div class="game" ng-class="gameBoardCtrl.idleTurn ? \'idle\': \'\'">\r\n    <h2>{{gameBoardCtrl.getStatusText(gameBoardCtrl.status)}}</h2>\r\n    <p class="status"\r\n       ng-class="gameBoardCtrl.status === \'IDLE\' ? \'--idle\' : gameBoardCtrl.status === \'READY\' ? \'--ready\' : \'\'">\r\n        {{gameBoardCtrl.status_messages}}\r\n    </p>\r\n    <div ng-class="gameBoardCtrl.isReady ? \'ready\': \'\' || gameBoardCtrl.boardStatus" ng-style="gameBoardCtrl.boardHeight">\r\n        <div class="board" ng-style="gameBoardCtrl.boardWidth">\r\n            <div\r\n                    ng-repeat="cell in gameBoardCtrl.cells"\r\n                    class="board-cell"\r\n                    ng-mouseenter="gameBoardCtrl.checkShipPlacement($index)"\r\n                    ng-mouseleave="gameBoardCtrl.resetLastShip($index)"\r\n                    ng-click="gameBoardCtrl.onCellClick(cell, $index)"\r\n                    ng-class="cell.cellClassName"\r\n                    ng-style="cell.cellStyle" >\r\n            </div>\r\n        </div>\r\n        <div class="game-panel">\r\n            <div class="buttons">\r\n                <button\r\n                        ng-hide="gameBoardCtrl.status === \'IDLE\' || gameBoardCtrl.status === \'READY\'"\r\n                        ng-click="gameBoardCtrl.changeOrientation(\'horizontal\')"\r\n                        ng-class="gameBoardCtrl.isHorizontal ? \'active\': \'\'">\r\n                    Horizontal\r\n                </button>\r\n                <button\r\n                        ng-hide="gameBoardCtrl.status === \'IDLE\' || gameBoardCtrl.status === \'READY\'"\r\n                        ng-click="gameBoardCtrl.changeOrientation(\'vertical\')"\r\n                        ng-class="!gameBoardCtrl.isHorizontal ? \'active\': \'\'">\r\n                    Vertical\r\n                </button>\r\n                <button\r\n                        ng-click="gameBoardCtrl.deleteGame()">\r\n                    Delete Game\r\n                </button>\r\n            </div>\r\n            <br class="clear">\r\n            <div class="ships" ng-repeat="ship in gameBoardCtrl.ships">\r\n                <div class="ship"\r\n                     ng-class="ship.active ? \'active\': \'\' || ship.placed ? \'placed\': \'\'"\r\n                     ng-style="ship.style"\r\n                     ng-click="gameBoardCtrl.selectShip($index)">\r\n                    {{ship.name}}\r\n                </div>\r\n            </div>\r\n\r\n            <div class="ready--start">\r\n                <button ng-click="gameBoardCtrl.start()">Search for Free Player and start</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'),e.put("home/templates/index.html",'<div class="home" ng-controller="homeController as homeCtrl">\r\n    <div class="row">\r\n        <div class="large-8 columns" role="content">\r\n            <h1>Battlehsip</h1>\r\n            <div class="text">\r\n                <h4>{{homeCtrl.welcome}}!</h4><br>\r\n                <a href="#home/game"><img src="images/preview.jpg" width="300"></a>\r\n                <p ng-show="homeCtrl.isGuest">\r\n                    Are you ready for a fight over the seas and get into the top players list? Well then what are you waiting for,\r\n                    register here: <a href="#register">Register</a>.<br><br>\r\n                </p>\r\n                <p ng-show="homeCtrl.isGuest">Do you have already an account? Here you can login: <a href="#login">Login</a></p>\r\n                <p ng-hide="homeCtrl.isGuest">\r\n                    Nice to see you again <span class="bold">{{homeCtrl.username}}</span>! Are you ready to be the sea King or Queen?\r\n                    Join now a new game: <a href="#home/game">Start Now</a>!\r\n                    <br>\r\n                </p>\r\n                <br/>\r\n                <h4 class="text" >Rules:</h4><br>\r\n                <p ><span class="bold">Players</span>: 2 players</p><br/>\r\n                <p>\r\n                    <span class="bold">Contents</span>: Each player gets a board, some ships and has to place them randomly on the board.\r\n                    After all the ships have been placed, the player clicks start game.\r\n                    <br> <br>\r\n                    When two players have started the game and have been selected randomly from the system, they play against each other.\r\n                    <br> <br>\r\n                    The system assigns a turn randomly. Players try to guess the location of the enemy by clicking in empty water cells.\r\n                    <br><br>\r\n                    <span class="bold">Goal</span>: To sink all of your opponent\'s ships by correctly guessing their location.\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class="large-4 columns" role="content">\r\n            <h1>Top players</h1>\r\n            <div class="stats">\r\n                <table>\r\n                    <thead>\r\n                    <th>Username</th>\r\n                    <th>Victories</th>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr ng-repeat="stat in homeCtrl.stats">\r\n                        <td>{{stat.winner}}</td>\r\n                        <td>{{stat.count}}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n'),e.put("login/templates/index.html",'<div class="login">\r\n    <h2 class="title">Login</h2>\r\n    <form ng-submit="loginCtrl.submit(data)" ng-controller="LoginController as loginCtrl">\r\n        <div class="row">\r\n            <div class="medium-6 columns"><label for="username">Username:</label></div>\r\n            <div class="medium-6 columns"><input ng-model="data.username" minlength="3" id="username" placeholder="username" required /></div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="medium-6 columns"><label for="username">Password:</label></div>\r\n            <div class="medium-6 columns"><input ng-model="data.password" minlength="3" id="password" type="password" placeholder="password" required /></div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="medium-2 columns"><button class="round" type="submit">Login</button></div>\r\n            <div class="medium-10 columns register"><a ui-sref="register">Register</a></div>\r\n        </div>\r\n    </form>\r\n</div>'),e.put("register/templates/index.html",'<div class="login">\r\n    <h2 class="title">Register new User</h2>\r\n    <form ng-submit="registerCtrl.submit(data)" ng-controller="RegisterController as registerCtrl">\r\n        <div class="row">\r\n            <div class="medium-6 columns"><label for="username">Username:</label></div>\r\n            <div class="medium-6 columns"><input ng-model="data.username" minlength="3" id="username" placeholder="username" required /></div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="medium-6 columns"><label for="username">Password:</label></div>\r\n            <div class="medium-6 columns"><input ng-model="data.password" minlength="3" id="password" type="password" placeholder="password" required /></div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="medium-10 columns"><button class="round" type="submit">Register</button></div>\r\n        </div>\r\n    </form>\r\n</div>'),e.put("users/templates/index.html",'<div class="user-box">\r\n    <table>\r\n        <thead>\r\n        <th>Username</th>\r\n        <th>Rol</th>\r\n        <th colspan="2"></th>\r\n        </thead>\r\n        <tbody>\r\n            <tr class="users" ng-repeat="(key, obj) in usrListCtrl.data  | orderBy:\'name\' " class="row" ng-class="obj.isNew ? \'is-new\': \'\'">\r\n                <td><i class="fi-{{(obj.roles.join(\', \') == \'admin\' ? \'torso-business\' : \'torso\')}}"></i> {{obj.name}}</td>\r\n                <td>{{obj.roles.join(\', \')}}</td>\r\n                <td><button ng-click="usrListCtrl.deleteUser(obj.id)" class="small red button round">Delete</button></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>'),e.put("layout/templates/footer.html",'<footer class="row">\r\n    <div class="large-12 columns">\r\n        <hr/>\r\n        <div class="row">\r\n            <div class="large-6 columns">\r\n                <h1><small>© Copyright Luca Mele & Ricardo Vögeli</small></h1>\r\n            </div>\r\n            <div class="large-6 columns">\r\n                <ul class="inline-list right">\r\n                    <li><a href="http://www.hsr.ch" target="_blank">HSR</a></li>\r\n                    <li><a href="https://en.wikipedia.org/wiki/Battleship_(game)" target="_blank">Wiki</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</footer>'),e.put("layout/templates/header.html",'<header class="header">\r\n    <div class="menu">\r\n    <nav class="top-bar" data-topbar role="navigation">\r\n        <ul class="title-area">\r\n            <li class="name">\r\n                <h1><a href="#">Battleship <small>Awesome projekt from Gruppe 9</small></a></h1>\r\n            </li>\r\n            <li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>\r\n        </ul>\r\n        <section class="top-bar-section">\r\n            <ul class="align">\r\n                <li ng-show="layoutCtrl.isToShowAs([\'admin\', \'user\', \'guest\'])"><a ui-sref="home" class="button" ui-sref-active="active">Home</a></li>\r\n                <li ng-show="layoutCtrl.isToShowAs([\'admin\', \'user\'])"><a ui-sref="game" ui-sref-opts="{reload: true}" class="button" ui-sref-active="active">Game</a></li>\r\n                <li ng-show="layoutCtrl.isToShowAs([\'admin\'])"><a ui-sref="admin" class="button" ui-sref-active="active">Admin</a></li>\r\n                <li ng-show="layoutCtrl.isToShowAs([\'admin\', \'user\', \'guest\'])"><a ui-sref="login" class="button" ui-sref-active="active">{{ layoutCtrl.isGuest ? \'Login\' : \'Logout\' }}</a></li>\r\n                <li ng-show="layoutCtrl.isToShowAs([\'admin\', \'user\'])" class="username"><i class="fi-torso"></i> ({{ layoutCtrl.username }})</li>\r\n            </ul>\r\n        </section>\r\n    </div>\r\n        </nav>\r\n    </div>\r\n</header>')}]);var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(){return this.getError=function(e){return this.errorMap[e]?this.errorMap[e]:!1},this.errorMap={error_code_1:"user already on db",error_code_2:"validation failed",error_code_3:"something went wrong"},this}return t.$inject=[],t.$componentName="factoryService",t.$inject=[],t.$componentName="errorFactory",t=__decorate([e.Factory],t)})()}(t=e.factoryService||(e.factoryService={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e,t,r,n){return this.canAccess=function(e,t){var r,n,i,s,o=t.data.roles,a=e.roles?e.roles:[];if(!o||!o.length||"guest"===o[0])return!0;for(r=0,n=o.length;n>r;r++)for(i=0,s=a.length;s>i;i++)if(a[i]===o[r])return!0;return!1},this.navigateTo=function(e){this.$state.go(e)},this.isAuthorized=function(e){var t=this.userService.getIdentity();return this.canAccess(t,e)},this.isUnathorized=function(){this.$state.go("login")},this.$rootScope=e,this.$state=t,this.$location=r,this.userService=n,this}return t.$inject=["$rootScope","$state","$location","userService"],t.$componentName="authService",t.$inject=["$rootScope","$state","$location","userService"],t.$componentName="authService",t=__decorate([e.Service],t)})()}(t=e.authService||(e.authService={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e,t){return this.setHeader=function(e){this.config={headers:e},this.$http.defaults.headers.common=e},this.success=function(){},this.error=function(e){(401===e.status||403===e.status)&&this.$state.go("login")},this.connect=function(e,t,r){var n=this,i=function(e){n.error(e),r(e)},s=function(e){n.error(e)};switch(e.method){case"get":e.$resource.get(null,s,i).$promise.then(r);break;case"post":e.$resource.save(t,s,i).$promise.then(r);break;case"put":e.$resource.update(t,s,i).$promise.then(r);break;case"delete":e.$resource["delete"](t,s,i).$promise.then(r);break;default:console.error("unknown method in db connector service")}},this.save=function(e,t,r){var n=this,i=function(e){n.error(arguments),r(e)},s=function(){n.error(arguments)};if("function"==typeof e.save&&"object"==typeof t){var o=e.save(t,s,i).$promise;return o.then(r),o}return console.error("Invalid arguments passed at the method save in the DB donnector"),!1},this.config={headers:{}},this.$http=e,this.$state=t,this}return t.$inject=["$http","$state"],t.$componentName="dbConnectorService",t.$inject=["$http","$state"],t.$componentName="dbConnectorService",t=__decorate([e.Service],t)})()}(t=e.dbConnectorService||(e.dbConnectorService={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e){return this.validateAuthentication=function(e){return"object"==typeof e&&"string"==typeof e.username&&"string"==typeof e.password},this.proceed=function(e,t,r){var n=this;return this.dbConnectorService.save(t.$resource,e,function(t){return t.auth&&401!==t.status?(n.identity=angular.extend(e,{auth:t.auth,roles:t.roles}),n.dbConnectorService.setHeader({Authorization:t.auth}),sessionStorage.setItem("identity",JSON.stringify(n.identity)),void r.call(n,n.identity)):void r.call(n,{error:401},t)})},this.authenticateUser=function(e,t,r){return this.validateAuthentication(e)?this.proceed(e,t,r):!1},this.resetIdentity=function(){this.identity={roles:["guest"]};var e=sessionStorage.getItem("identity");"string"==typeof e&&sessionStorage.setItem("identity",JSON.stringify(this.identity))},this.getIdentity=function(){var e=sessionStorage.getItem("identity"),t=this;return"string"==typeof e?(e=JSON.parse(e),e.auth&&t.dbConnectorService.setHeader({Authorization:e.auth}),e):(("undefined"==typeof e||null===e)&&(this.identity={roles:["guest"]}),this.identity)},this.dbConnectorService=e,this}return t.$inject=["dbConnectorService"],t.$componentName="userService",t.$inject=["dbConnectorService"],t.$componentName="userService",t=__decorate([e.Service],t)})()}(t=e.userService||(e.userService={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){t.identifier="game";var r="Cell already occupied",n="Invalid position",i="Start a new game!",s="Waiting for someone to join",o="Game started with ",a=function(){function a(e,a,c,l,u,h,d){this._handleMap=function(e){var r,n,i=+e.w,s=+e.h,o=+e.cell.w,a=+e.cell.h,c=!1,l=[],u=[];if(e.cells)c=!0,l=e.cells,this.status=e.status,"READY"===e.status&&(this.opponent=e.opponent,this.game.checkIdle(e)),"IDLE"===e.status&&(this.status_messages="You have started a new game. Please wait for a random player to join..",this.game.checkIdle(e));else{for(n=0;s*i>n;n++)l.push(new t.cells.Water(o,a,n));this.status_messages="Game not started yet.\nSelect a orientation, either vertical or horizontal and then click on a ship to select it and on a free water cell to place it"}var n,h;for(n=0,h=e.ships.length;h>n;n++)r=new t.ships.Ship(e.ships[n].size,{height:a,width:o*e.ships[n].size},e.ships[n].name),c&&(r.set("placed",!0),r.set("active",!1),this.gameIsActive=!0),u.push(r);this.columns=i,this.rows=s,this.boardWidth={width:i*o},this.boardHeight={height:s*a},this.ships=u,this.cells=l},this._getMap=function(){var e=this;this.dbConnectorService.connect(this.gameDbFactory.getGame(),{},function(t){e._handleMap.call(e,t)})},this._putOnMap=function(e,i,s,o){var a,c;for(a=0;a<e.size;a++)if(this.isHorizontal){if(!((o+a)%this.columns)&&0!==a)return this.toastr.clear(),this.toastr.warning(n," Warning"),!1;if("water"!==s[o+a].cellName)return this.toastr.clear(),this.toastr.warning(r," Warning"),!1}else{if(o+a*this.columns>=s.length)return this.toastr.clear(),this.toastr.warning(n," Warning"),!1;if(s[o+a*this.columns]&&"water"!==s[o+a*this.columns].cellName)return this.toastr.clear(),this.toastr.warning(r," Warning"),!1}for(e.set("placed",!0),e.set("active",!1),a=0;a<e.size;a++)c=0===a?"first":"middle",c=a===e.size-1?"last":c,this.isHorizontal?s[o+a]=new t.cells.Ship(i.width,i.height,i.index,c,this.isHorizontal,e.size):s[o+a*this.columns]=new t.cells.Ship(i.width,i.height,i.index,c,this.isHorizontal,e.size);return e},this.selectShip=function(e){var t=this.ships,r=!1;if(this.selectedShip=!1,t[e].placed&&(this.selectedShip=!1,r=!0),"undefined"!=typeof t[e]){var n,i;for(n=0,i=t.length;i>n;n++)r?t[n].active=!1:t[n].active=n===e&&!t[n].active,t[n].active&&(this.selectedShip=n);this.ships=t}},this.getStatusText=function(e){switch(e){case"NEW":return i;case"IDLE":return s;case"READY":return o+this.opponent;default:return"status error"}},this.start=function(){this.gameIsActive||this.game.start(this.ships,this.cells)},this.checkIfThereAreFreeShips=function(){var e,t,r=!0;for(e=0,t=this.ships.length;t>e;e++)if(!this.ships[e].placed){r=!1;break}r&&(this.isReady=!0)},this.onCellClick=function(e,t){if(!this.idleTurn){if(this.gameStarted)return void this.game.handleCellClick(e,t);if(this.selectedShip!==!1){var r=this.cells,i=this.ships[this.selectedShip];if(i.placed)this.selectedShip=!1,i.set("active",!1);else if(r[t]&&i){var s=e.getAttributes();if("water"!==s.cellName)return this.toastr.clear(),void this.toastr.warning(n," Warning");if(i=this._putOnMap(i,s,r,t),!i)return}this.checkIfThereAreFreeShips(),this.ships[this.selectedShip]=i}}},this.checkShipPlacement=function(e){var t,r,n,i=this.ships[this.selectedShip];if(!this.idleTurn&&!this.gameStarted&&this.selectedShip!==!1){for(r=0,n=i.size;n>r;r++)t=null,this.isHorizontal?this.cells[e+r]&&((e+r)%this.columns||0===r)&&"water"===this.cells[e+r].cellName&&(t=this.cells[e+r]):(e+r*this.columns<this.cells.length&&(t=this.cells[e+r*this.columns]),(!this.cells[e+r]||this.cells[e+r*this.columns]&&"water"!==this.cells[e+r*this.columns].cellName)&&(t=null)),t&&null!==t&&this.lastHoveredCells.push(t);if(this.lastHoveredCells.length===i.size)for(r=0,n=this.lastHoveredCells.length;n>r;r++)t=this.lastHoveredCells[r],t.cellOrig=t.cellClassName,t.cellClassName=t.cellOrig+" --hover";else t=this.cells[e],t.cellOrig=t.cellClassName,t.cellClassName=t.cellClassName+" --no-free",this.lastHoveredCells=[]}},this.resetLastShip=function(e){var t,r;if(!this.idleTurn&&!this.gameStarted){if(this.lastHoveredCells.length){for(t=0,r=this.lastHoveredCells.length;r>t;t++)this.lastHoveredCells[t].cellClassName=this.lastHoveredCells[t].cellOrig;this.lastHoveredCells=[]}this.cells[e].cellOrig&&(this.cells[e].cellClassName=this.cells[e].cellOrig)}},this.deleteGame=function(){this.game.deleteGame()},this.changeOrientation=function(e){this.isHorizontal="horizontal"===e},this.componentName="gameBoardController",this.dbConnectorService=c,this.gameDbFactory=l,this.cells=[],this.boardWidth={},this.boardHeight={},this.ships=[],this.lastHoveredCells=[],this.selectedShip=!1,this.status_messages="Loading data.. Please wait.",this.isReady=!1,this.isHorizontal=!0,this.opponent="",this.gameIsActive=!1,this.idleTurn=!1,this.gameStarted=!1,this.status="NEW",this.toastr=u,this.columns=0,this.game=new t.manager.GameExecutionController(e,a,this,c,l,h,d),this.rows=0,this._getMap()}return a.$inject=["$scope","$state","dbConnectorService","gameDbFactory","toastr","userService","$timeout"],a.$componentName="GameBoardController",a.$inject=["$scope","$state","dbConnectorService","gameDbFactory","toastr","userService","$timeout"],a=__decorate([e.Controller],a)}();t.GameBoardController=a}(t=e.game||(e.game={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){t.identifier="home";var r=function(){function t(e,t,r){this.getStats=function(){var e=this;this.dbConnectorService.connect(this.homeDbFactory.getStats(),{},function(t){e.stats=t.stats})},this.componentName="home",this.stats=[],this.dbConnectorService=e,this.homeDbFactory=t,r.getIdentity().username?(this.isGuest=!1,this.username=r.getIdentity().username,this.welcome="Welcome "+this.username):(this.isGuest=!0,this.username="",this.welcome="Welcome dear guest, please register in order to be able to play"),this.getStats()}return t.$inject=["dbConnectorService","homeDbFactory","userService"],t.$componentName="HomeController",t.$inject=["dbConnectorService","homeDbFactory","userService"],t.$componentName="homeController",t=__decorate([e.Controller],t)}();t.HomeController=r,angular.module(t.identifier,[])}(t=e.home||(e.home={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){t.identifier="layout";var r=function(){function e(e,t,r){this.isToShowAs=function(e){var t=!1;return this.isAdmin&&~e.indexOf("admin")?!0:(this.isUser&&~e.indexOf("user")&&(t=!0),this.isGuest&&~e.indexOf("guest")&&(t=!0),t)};var n=this;this.componentName="layoutController",this.isAdmin=!!~r.getIdentity().roles.indexOf("admin"),this.isUser=!!~r.getIdentity().roles.indexOf("user"),this.isGuest=!!~r.getIdentity().roles.indexOf("guest"),this.username=r.getIdentity().username,e.$on("$stateChangeSuccess",function(){var e=r.getIdentity().roles;n.isAdmin=!!~e.indexOf("admin"),n.isUser=!!~e.indexOf("user"),n.isGuest=!!~e.indexOf("guest"),n.username=r.getIdentity().username})}return e.$inject=["$scope","$rootScope","userService"],e.$componentName="LayoutController",e.$inject=["$scope","$rootScope","userService"],e.$componentName="layoutController",e}(),n=function(){function t(e){return this.replace=!0,this.template=function(e,r){return this.$templateCache.get(t.$componentName+"/templates/"+r.type+".html")},this.componentName=t.$componentName,this.$templateCache=e,this.replace=!0,this.scope={},this.restrict="E",this.controller=r,this.controllerAs="layoutCtrl",this}return t.$inject=["$templateCache"],t.$componentName="layout",t.$inject=["$templateCache"],t.$componentName="layout",t=__decorate([e.Directive],t)}();t.LayoutDirective=n,angular.module(t.identifier,[])}(t=e.layout||(e.layout={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){t.identifier="login";var r=function(){function t(e,t,r,n){this.submit=function(e){var t=this;return e.username&&e.password?this.userService.authenticateUser(e,this.loginDbFactory.postLogin(),function(e){e&&401===e.error?(t.toastr.clear(),t.toastr.error("Invalid login","Error")):t.authService.navigateTo("home")}):(t.toastr.clear(),t.toastr.error("Invalid login","Error"),!1)},this.userService=e,this.componentName="loginController",this.loginDbFactory=t,this.authService=r,this.toastr=n,this.userService.resetIdentity()}return t.$inject=["userService","loginDbFactory","authService","toastr"],t.$componentName="LoginController",t.$inject=["userService","loginDbFactory","authService","toastr"],t.$componentName="LoginController",t=__decorate([e.Controller],t)}();t.LoginController=r,angular.module(t.identifier,[])}(t=e.login||(e.login={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){t.identifier="register";var r=function(){function t(e,t,r,n,i){this.submit=function(e){var t=this;return e.username&&e.password?this.userService.authenticateUser(e,this.registerDbFactory.postRegister(),function(e,r){r&&r.data&&t.errorFactory.getError(r.data.error)?(t.toastr.clear(),t.toastr.warning(t.errorFactory.getError(r.data.error)," Warning")):t.authService.navigateTo("home")}):(t.toastr.clear(),t.toastr.error("Invalid register","Error"),!1)},this.userService=e,this.errorFactory=i,this.componentName="registerController",this.registerDbFactory=t,this.authService=r,this.toastr=n,this.userService.resetIdentity()}return t.$inject=["userService","registerDbFactory","authService","toastr","errorFactory"],t.$componentName="RegisterController",t.$inject=["userService","registerDbFactory","authService","toastr","errorFactory"],t.$componentName="RegisterController",t=__decorate([e.Controller],t)}();t.RegisterController=r,angular.module(t.identifier,[])}(t=e.register||(e.register={}));
}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){t.identifier="usersList";var r=function(){function e(e,t,r){this.getUsers=function(){var e=this;this.dbConnectorService.connect(this.usersListDbFactory.getUsers(),{},function(t){e.data=t.list;var r=e.$scope.$watch("newdata",function(t){return t?(t=JSON.parse(t),void("string"==typeof t.name&&(t.isNew=!0,e.data.push(t)))):void r()})})},this.deleteUser=function(e){var t=this;this.dbConnectorService.connect(this.usersListDbFactory.deleteUser(e),{},function(r){var n,i;if(r.deleted){for(n=0,i=t.data.length;i>n;n++)if(t.data[n].id===e){t.data.splice(n,1);break}}else console.error("error while deleting user")})},this.componentName="usersListController",this.data={},this.$scope=r,this.dbConnectorService=e,this.usersListDbFactory=t,this.getUsers()}return e.$inject=["dbConnectorService","usersListDbFactory","$scope"],e.$componentName="UsersListController",e.$inject=["dbConnectorService","usersListDbFactory","$scope"],e.$componentName="usersListController",e}(),n=function(){function t(e){return this.template=function(e,t){return this.$templateCache.get("users/templates/index.html")},this.componentName=t.$componentName,this.$templateCache=e,this.replace=!0,this.scope={newdata:"@newdata"},this.restrict="E",this.controller=r,this.controllerAs="usrListCtrl",this}return t.$inject=["$templateCache"],t.$componentName="usersList",t.$inject=["$templateCache"],t.$componentName="usersList",t=__decorate([e.Directive],t)}();t.UsersListDirective=n,angular.module(t.identifier,[])}(t=e.usersList||(e.usersList={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){t.identifier="admin";var r=function(){function t(e,t,r,n){this.submit=function(e){var t=this;e.role?this.dbConnectorService.connect(this.adminDbFactory.postNewUser(),e,function(r){r.data||(r.data={}),t.errorFactory.getError(r.data.error)?(t.toastr.clear(),t.toastr.warning(t.errorFactory.getError(r.data.error)," Warning")):t.data={name:e.username,id:r.id,roles:[e.role]}}):(this.toastr.clear(),this.toastr.warning("Please select a role","Warning"))},this.adminDbFactory=e,this.dbConnectorService=t,this.errorFactory=n,this.componentName="admin",this.data={},this.toastr=r}return t.$inject=["adminDbFactory","dbConnectorService","toastr","errorFactory"],t.$componentName="AdminController",t.$inject=["adminDbFactory","dbConnectorService","toastr","errorFactory"],t=__decorate([e.Controller],t)}();t.AdminController=r,angular.module(t.identifier,[])}(t=e.admin||(e.admin={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,r){this.getAttributes=function(){return{width:this.width,index:this.index,height:this.height,cellName:this.cellName,cellStyle:this.cellStyle}},this.width=e,this.index=r,this.height=t,this.cellName="generic",this.cellClassName="generic-cell",this.cellStyle={width:e,height:t}}return e}();e.Cell=t}(t=e.cells||(e.cells={}))}(t=e.game||(e.game={}))}(app||(app={}));var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},app;!function(e){var t;!function(t){var r;!function(t){var r=function(e){function t(t,r,n,i,s,o){e.call(this,r,t,n),this.cellName="ship-marked",this.cellClassName="ship-marked-cell"+(s?" horizontal ":" vertical ")+(o>1?i:" single")}return __extends(t,e),t}(e.game.cells.Cell);t.ShipMarked=r}(r=t.cells||(t.cells={}))}(t=e.game||(e.game={}))}(app||(app={}));var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},app;!function(e){var t;!function(t){var r;!function(t){var r=function(e){function t(t,r,n,i,s,o){e.call(this,r,t,n),this.cellName="ship",this.isHorizontal=s,this.size=o,this.pos=i,this.cellClassName="ship-cell"+(s?" horizontal ":" vertical ")+(o>1?i:" single")}return __extends(t,e),t}(e.game.cells.Cell);t.Ship=r}(r=t.cells||(t.cells={}))}(t=e.game||(e.game={}))}(app||(app={}));var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},app;!function(e){var t;!function(t){var r;!function(t){var r=function(e){function t(t,r,n){e.call(this,r,t,n),this.cellName="water-marked",this.cellClassName="water-marked-cell"}return __extends(t,e),t}(e.game.cells.Cell);t.WaterMarked=r}(r=t.cells||(t.cells={}))}(t=e.game||(e.game={}))}(app||(app={}));var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},app;!function(e){var t;!function(t){var r;!function(t){var r=function(e){function t(t,r,n){e.call(this,r,t,n),this.cellName="water",this.cellClassName="water-cell"}return __extends(t,e),t}(e.game.cells.Cell);t.Water=r}(r=t.cells||(t.cells={}))}(t=e.game||(e.game={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t;!function(t){t.identifier="gameManager";var r=function(){function t(t,r,n,i,s,o,a){this.start=function(e,t){var r=this,n=this.userService.getIdentity().username;this.ships=e,this.cells=t,this.dbConnectorService.connect(this.gameDbFactory.saveReady(),{username:n,cells:this.cells},function(e){r.idGame=e.idGame,r.handleStatus(e),r.board.status_messages="You have started a new game. Please wait for a random player to join.."})},this.checkIdle=function(e){this.idGame=e.idGame,this.handleStatus(e)},this.handleStatus=function(t){this.board.gameIsActive=!0,this.board.isReady=!1,this.board.opponent=t.opponent,this.board.status=t.status,"IDLE"===t.status?this.continuesCheck():(this.idGame=t.idGame,this.timer&&this.$timeout.cancel(this.timer),this.turnsHandler=new e.turns.TurnsHandler(this.$timeout,this.board,this.$state,this.$scope,this.gameDbFactory,this.dbConnectorService,t,this.userService.getIdentity().username))},this.handleCellClick=function(t,r){var n=this;"water"===t.cellName&&(this.freeze||(this.board.status_messages="checking..",this.freeze=!0,this.dbConnectorService.connect(this.gameDbFactory.saveMark(),{id:this.idGame,cell:this.board.cells[r],index:r},function(i){"ship-marked"===i.cell.cellName?(n.board.status_messages="Nice shot! Now lets see what "+n.board.opponent+" will do. Please wait form him",n.board.cells[r]=new e.cells.ShipMarked(t.width,t.height,t.index,i.cell.pos,i.cell.isHorizontal,i.cell.size)):(n.board.status_messages="Oh well.. maybe next time. Wait until "+n.board.opponent+" has made his move",n.board.cells[r]=new e.cells.WaterMarked(t.width,t.height,t.index)),n.timer&&n.$timeout.cancel(n.timer),n.timer=n.$timeout(function(){n.freeze=!1,n.turnsHandler.handleMaps(),n.turnsHandler.checkIfMoved()},1e3)})))},this.deleteGame=function(){var e=this;"undefined"!=typeof this.idGame?this.dbConnectorService.connect(this.gameDbFactory.deleteGame(this.idGame),{},function(t){e.$state.go(e.$state.current.name,e.$state.params,{reload:!0})}):(this.toastr.clear(),this.board.toastr.warning("Game cannot be deleted while no game is tarted yet"))},this.continuesCheck=function(){var e=this;e.timer&&e.$timeout.cancel(e.timer),this.dbConnectorService.connect(this.gameDbFactory.checkGame(this.idGame),{},function(t){e.timer=e.$timeout(function(){e.handleStatus.call(e,t)},1e3)})};var c=this;this.dbConnectorService=i,this.$state=r,this.$scope=t,this.userService=o,this.$timeout=a,this.gameDbFactory=s,this.board=n,this.freeze=!1,this.timer&&a.cancel(this.timer),t.$on("$destroy",function(){c.timer&&a.cancel(c.timer)})}return t.$inject=["$scope","$state","board","dbConnectorService","gameDbFactory","userService","$timeout"],t.$componentName="GameExecutionController",t}();t.GameExecutionController=r}(t=e.manager||(e.manager={}))}(t=e.game||(e.game={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t;!function(e){e.identifier="turnsHandler";var t=function(){function e(e,t,r,n,i,s,o,a){this.setupFirstTurn=function(){var e=this;this.dbConnectorService.connect(this.gameDbFactory.setTurn(this.data.idGame),{},function(t){e.board.status_messages="Is turn of "+t.isTurn,e.handleMaps.call(e,t)})},this.handleMaps=function(e){var t=this;this.dbConnectorService.connect(this.gameDbFactory.getMaps(this.data.idGame),{},function(e){if(!t.$scope.$$destroyed){if(418===e.status)return t.$state.go(t.$state.current.name,t.$state.params,{reload:!0}),t.toastr.clear(),void t.board.toastr.info("Game does not exist anymore. Please start a new one");t.cells=e.cells,t.cellsOpponent=e.cellsOpponent,t.board.gameStarted=!0,t.handleTurn.call(t,e)}})},this.handleTurn=function(e){var t=this;return""!==e.isWinner?(t.board.cells=t.cells,t.board.status_messages="We have a WINNER!!! Congrats to "+e.isWinner,t.board.toastr.clear(),t.board.toastr.success("We have a WINNER!!! Congrats to "+e.isWinner," Congratulations"),void(t.board.idleTurn=!0)):void(this.username===e.turn?(t.timer&&t.$timeout.cancel(t.timer),t.board.idleTurn=!0,t.board.status_messages="Have a look at your map to see what happened",t.timer=t.$timeout(function(){t.board.status_messages="Is your turn. Select a empty water cell to launch a bomb",t.board.cells=t.cellsOpponent,t.board.idleTurn=!1,t.board.boardStatus="board-active"},1600),t.board.cells=t.cells):(t.board.cells=t.cells,t.board.idleTurn=!0,t.board.boardStatus="board-passive",t.checkIfMoved()))},this.checkIfMoved=function(){var e=this;e.timer&&e.$timeout.cancel(e.timer),e.timer=e.$timeout(function(){e.handleMaps()},1500)};var c=this;this.$timeout=e,this.$state=r,this.data=o,this.dbConnectorService=s,this.board=t,this.$scope=n,this.username=a,this.gameDbFactory=i,this.timer&&e.cancel(this.timer),n.$on("$destroy",function(){c.timer&&e.cancel(c.timer)}),this.setupFirstTurn()}return e}();e.TurnsHandler=t}(t=e.turns||(e.turns={}))}(t=e.game||(e.game={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e){return this.getGame=function(){return{$resource:this.$resource("/game"),method:"get"}},this.getMaps=function(e){return{$resource:this.$resource("/maps/"+e),method:"get"}},this.checkGame=function(e){return{$resource:this.$resource("/game/"+e),method:"get"}},this.deleteGame=function(e){return{$resource:this.$resource("/game/"+e),method:"delete"}},this.saveReady=function(){return{$resource:this.$resource("/game/ready"),method:"post"}},this.setTurn=function(e){return{$resource:this.$resource("/game/"+e,{id:"@id"},{update:{method:"PUT"}}),method:"put"}},this.saveMark=function(){return{$resource:this.$resource("/map/mark"),method:"post"}},this.$resource=e,this}return t.$componentName="gameDbFactory",t.$inject=["$resource"],t=__decorate([e.Factory],t)})()}(t=e.GameDbFactory||(e.GameDbFactory={}))}(app||(app={}));var app;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,r){this.getAttributes=function(){return{style:this.style,name:this.name,size:this.size}},this.style=t,this.name=r,this.size=e}return e.prototype.set=function(e,t){this[e]=t},e}();e.Ship=t}(t=e.ships||(e.ships={}))}(t=e.game||(e.game={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e){return this.postLogin=function(){return{$resource:this.$resource("/login"),method:"post"}},this.$resource=e,this}return t.$componentName="loginDbFactory",t.$inject=["$resource"],t=__decorate([e.Factory],t)})()}(t=e.loginDbFactory||(e.loginDbFactory={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e){return this.postRegister=function(){return{$resource:this.$resource("/register"),method:"post"}},this.$resource=e,this}return t.$componentName="registerDbFactory",t.$inject=["$resource"],t=__decorate([e.Factory],t)})()}(t=e.registerDbFactory||(e.registerDbFactory={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e){return this.getStats=function(){return{$resource:this.$resource("/home"),method:"get"}},this.$resource=e,this}return t.$componentName="homeDbFactory",t.$inject=["$resource"],t=__decorate([e.Factory],t)})()}(t=e.homeDbFactory||(e.homeDbFactory={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e){return this.getUsers=function(){return{$resource:this.$resource("/users/list"),method:"get"}},this.deleteUser=function(e){return{$resource:this.$resource("/user/delete/"+e),method:"delete"}},this.$resource=e,this}return t.$componentName="usersListDbFactory",t.$inject=["$resource"],t=__decorate([e.Factory],t)})()}(t=e.usersListDbFactory||(e.usersListDbFactory={}))}(app||(app={}));var __decorate=this&&this.__decorate||function(e,t,r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,r,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,r))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,r,e)||e},n)}},app;!function(e){var t;!function(t){(function(){function t(e){return this.postNewUser=function(){return{$resource:this.$resource("/user"),method:"post"}},this.$resource=e,this}return t.$componentName="adminDbFactory",t.$inject=["$resource"],t=__decorate([e.Factory],t)})()}(t=e.adminDbFactory||(e.adminDbFactory={}))}(app||(app={}));